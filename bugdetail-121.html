<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Strict //EN">
<html>
<head>
<title>Bug: var type boxing</title>
<link rel="shortcut icon" href="/image/favicon.ico" >
<link rel="stylesheet" type="text/css" href="/static/v2style.css" >
<!--
<link rel="stylesheet" type="text/css" href="/css/100/basestyle|syntaxhighlighter" >
-->

<!--[if lt IE 7]>
<link rel="stylesheet" type="text/css" href="/doc/ie.css" media="screen">
<![endif]-->


<meta name="Author" content="littleJava">
<meta name="description" content=" Entity Sql select SqlSelect debug true query select user user id as userid count as total from user group by user user id public class SqlSelectDemo Integer userid int total public Integer getUserid return this userid public void setUserid Integer userid this userid userid public int getTotal return this total public void setTotal int total this total total the type of the var userid is Integer But change the method as setUserid int userid It will throw exception Exception in thread main java lang NoSuchMethodError cn helphope dao pojo SqlSelectDemo setUserid Ljava lang Integer V at cn helphope dao pojo SqlSelectDemo EntityBean mysql ebean setField SqlSelectDemo java 1 at com avaje ebean server reflect EnhanceBeanReflect Setter set EnhanceBeanReflect java 110 at com avaje ebean server dep">

<script type="text/javascript" src="/doc/jslib.js" ></script>
<!--
<script type="text/javascript" src="/jsl/jquery|jquery.corner|mygoo|app|shCore|shBrushJava|shBrushProperty|shBrushSql" ></script>
-->

<script type="text/javascript">
 $(document).ready(function(){
	$(".topic").corner("12px");
	$("a.action").corner("8px hover");
	$("div.example").corner("5px");
	$(".reqrlogin").hide();

	//dp.SyntaxHighlighter.ClipboardSwf = '/flash/clipboard.swf';
	dp.SyntaxHighlighter.HighlightAll('code');

 });
</script>

<!-- component('cn=app.comp.LoginEnable') -->




</head>

<body>
<form action='/bugdetail-121.html' method="post" id="GLOBAL_ACTION">
<input type='hidden' name='_WOGA_CONTROLLER' >
<input type='hidden' name='_WOGA_METHOD' >
<input type='hidden' name='_WOGA_PARAM' >
<input type='hidden' name='_WOGA_RENDER' >
<a id="top"></a>
<div id="headwrap">
<div id="headmax">
<div id="menuuser">
<!-- component('cn=app.comp.UserStatus') -->
</div>
<img id="logo" src="/image/logo-avaje.gif" width="127" height="50" alt="avaje logo">
<div style="clear:both;"></div>
</div>
</div><!-- end of headwrap -->

<div id="head2wrap">
<div id="head2max">
<table summary="layout">
<tr>
<td align="center">
<div id="menutab" style="">
<a id="m0" href="/" class="popmenu"><span>home</span></a>
<a id="m1" href="/ebean/documentation.html" class="popmenu"><span>documentation</span></a>
<a id="m4" href="/download.html" class="popmenu"><span>downloads</span></a>
<a id="m6" href="http://groups.google.com/group/ebean" class="popmenu"><span>google group</span></a>
<a id="m2" href="/forum.html" class="popmenu"><span>forums<img src="/image/menuDownH6_3.gif" width="11" height="11" alt=""></span></a>
<a id="m3" href="/bug.html" class="popmenu"><span>bugs<img src="/image/menuDownH6_3.gif" width="11" height="11" alt=""></span></a>
<a id="m5" href="/feedback.html" class="popmenu"><span>feedback</span></a>
</div>
</td>
</tr>
</table>
</div>
</div>

<div id="bodywrap">
<div id="bodymax">
<div id="content">
<div id="pageBody">
<div id="breadcrumb">
&nbsp;
</div>






<div class="breadcrumb">
<img src="/image/smallhome.gif"> <a href="index.html">Home</a> &raquo; <a href="bug.html">Bugs</a> &raquo; ENH 121 : var type boxing
</div>


<!-- bug header info -->




<div id="app.comp.BugDetailComp">

<div class="pageactions">
<!--
<input type="button" style="width:12em;" class="btn requser" value="Add Comment" onclick="j('#bugDetailForm').show();j('#f_title').focus();">
<input type="button" style="width:12em;" class="btn requser" value="Create a new Bug" onclick="gotoURL('bugnew.html');">
-->
</div>

<table class="formlayout">
<tr>
<td colspan="6" class="heading">&nbsp;<span class="xheading">Enhancement 121 : var type boxing </span></td>
</tr>
<tr>
<td width="15%" class="label">Priority&nbsp;</td><td><div class="fieldmargin"><span class="field">Low</span></div></td>
<td class="label">Reported Version&nbsp;</td><td><div class="fieldmargin"><span class="field">&nbsp;</span></div></td>
<td class="label">Logged By&nbsp;</td><td><div class="fieldmargin"><span class="field">littleJava</span></div></td>
</tr>

<tr>
<td class="label">Status&nbsp;</td><td><div class="fieldmargin"><span class="field">Fixed</span></div></td>
<td class="label">Fixed Version&nbsp;</td><td><div class="fieldmargin"><span class="field">2.0.1</span></div></td>
<td class="label">Assigned To&nbsp;</td><td><div class="fieldmargin"><span class="field">&nbsp;</span></div></td>
</tr>

<tr>
<td class="label">Product&nbsp;</td><td><div class="fieldmargin"><span class="field">Ebean - core</span></div></td>
<td class="label">Duplicate Of&nbsp;</td><td><div class="fieldmargin"><span class="field">&nbsp;</span></div></td>
<td class="label">Created&nbsp;</td><td><div class="fieldmargin"><span class="field">08/06/2009</span></div></td>
</tr>

<tr>
<td class="label">Updated&nbsp;</td><td><div class="fieldmargin"><span class="field">08/06/2009</span></div></td>
<td class="label">Type&nbsp;</td><td><div class="fieldmargin"><span class="field">Enhancement</span></div></td>
<td class="label">&nbsp;</td><td></td>
</tr>

<tr>
<td class="label">Attachments&nbsp;</td>
<td colspan="5">
<div class="attachments">
<div class="fieldmargin">
<span class="field" style="width:100%;">
No attachments</span>
</div>
</div>
</td>
</tr>

<tr>
<td colspan="6"><div class="fieldmargin"><span class="field"><p>@Entity<br/>@Sql(<br/>	select= {<br/>		@SqlSelect(debug=true,query="select user.user_id as userid,count(*) as total from user group by user.user_id")<br/>	}<br/>)<br/>public class SqlSelectDemo {<br/>    Integer userid;<br/>    int total;<br/>    public Integer getUserid() {<br/>        return this.userid;<br/>    }<br/>    public void setUserid(Integer userid) {<br/>        this.userid = userid;<br/>    }<br/>    public int getTotal() {<br/>        return this.total;<br/>    }<br/>    public void setTotal(int total) {<br/>        this.total = total;<br/>    }<br/>}</p><p><br/>the type of the var userid is Integer.<br/>But change the method as setUserid(int userid).<br/>It will throw exception:<br/>Exception in thread "main" java.lang.NoSuchMethodError: cn.helphope.dao.pojo.SqlSelectDemo.setUserid(Ljava/lang/Integer;)V<br/>	at cn.helphope.dao.pojo.SqlSelectDemo$$EntityBean$mysql._ebean_setField(SqlSelectDemo.java:1)<br/>	at com.avaje.ebean.server.reflect.EnhanceBeanReflect$Setter.set(EnhanceBeanReflect.java:110)<br/>	at com.avaje.ebean.server.deploy.BeanProperty.setValue(BeanProperty.java:530)<br/>	at com.avaje.ebean.server.deploy.BeanProperty.readSet(BeanProperty.java:397)<br/>	at com.avaje.ebean.server.query.SqlTreeNodeBean.load(SqlTreeNodeBean.java:204)<br/>	at com.avaje.ebean.server.query.CQuery.readRow(CQuery.java:444)<br/>	at com.avaje.ebean.server.query.CQuery.readBeanInternal(CQuery.java:475)<br/>	at com.avaje.ebean.server.query.CQuery.readTheRows(CQuery.java:559)<br/>	at com.avaje.ebean.server.query.CQuery.readCollection(CQuery.java:543)<br/>	at com.avaje.ebean.server.query.CQueryEngine.findMany(CQueryEngine.java:88)<br/>	at com.avaje.ebean.server.query.DefaultOrmQueryEngine.findMany(DefaultOrmQueryEngine.java:95)<br/>	at com.avaje.ebean.server.core.OrmQueryRequest.findList(OrmQueryRequest.java:215)<br/>	at com.avaje.ebean.server.core.DefaultServer.findList(DefaultServer.java:1053)<br/>	at com.avaje.ebean.query.DefaultOrmQuery.findList(DefaultOrmQuery.java:491)<br/>	at cn.helphope.dao.SqlSelectDemoDao.main(SqlSelectDemoDao.java:21)</p></span></div></td>
</tr>

<tr>
<td colspan="6">&nbsp;</td>
</tr>
</table>

<div class="bugdetail-head">
<div style="float:right">
Rob 
08 Jun&nbsp;08:02
</div>
Hmmm, not sure...
</div>
<div class="bugdetail-foot" style="clear:both;">
<p>Currently I'm not sure about this enhancement.  I'd be interested to know/understand the value in supporting this.</p><p>Specifically, I'm not convinced that Auto boxing is consistent with the bean property spec (which is what is being followed when using "subclassing" as in the case above).  </p><p>Said a different way, if you use "enhancement" rather than "subclassing" then you do not need to follow the bean spec and it will work (with the auto boxing).</p><p>Hmmm.</p>
</div>
<p></p>
<div class="bugdetail-head">
<div style="float:right">
Rob 
26 Jan&nbsp;09:24
</div>
Closing this as not a Bug / Enhancement
</div>
<div class="bugdetail-foot" style="clear:both;">
<p>I'll close this - you need to reopen if you believe this is a defect.</p><p>You can use Enhancement (field access effectively) and otherwise you need to follow the java bean conventions.</p>
</div>
<p></p>

<input type="hidden" name="f_bugid" value="121">


</div>






<div id="bugDetailForm" style="display:none;">

<div id="app.comp.BugDetailAddComp">

<h4>Add detail to this bug</h4>
<table>
<tr>
<td class="label" style="width:8em;"><span class="mandatory">*</span>Summary:</td>
<td><input class="txt wide90" type="text" id="f_title" name="f_title" value=""></td>
</tr>
<tr>
<td class="label" valign="top"><span class="mandatory">*</span>Details:</td>
<td><textarea class="wide90" name="f_body" rows="10" cols="30"></textarea></td>
</tr>

<tr>
<td class="label"></td>
<td>
&nbsp;
</td>
</tr>

</table>
<div class="buttons">
<input type="button" class="btn" value="Save" accesskey="s" onclick="woPost('app.comp.BugDetailAddComp','doPost');" >
<input type="button" class="btn" value="Cancel" accesskey="c" onclick="j('#bugDetailForm').hide();">
</div>

</div>

</div>
</div>
</div>
</div><!-- end of bodywrap -->

<div id="footwrap">
<div id="footmax">
<div id="foot">
<a href="/">home</a> | <a href="#top">back to top</a>
</div>
</div>
</div><!-- end of footwrap -->

<!-- layers -->
<div id="m1popxxx" class="popmenuchild">
<a href="/ebean/introduction.html">Introduction</a>
<a href="/doc/ebean-userguide.pdf">User Guide (pdf)</a>
<a href="/configure.html">Install/Configure</a>
<a href="/static/javadoc/pub/index.html">Public JavaDoc</a>
<a href="/whitepaper.html">Whitepapers</a>
</div>

<div id="m2pop" class="popmenuchild">
<a href="/forumdetail-1.html">General</a>
<a href="/forumdetail-2.html">Database Specific</a>
<a href="/forumdetail-3.html">Byte Code</a>
<a href="/forumdetail-4.html">Deployment Annotations</a>
<a href="/forumdetail-5.html">Features</a>
</div>

<div id="m3pop" class="popmenuchild">
<a href="/bug.html">Top Bugs</a>
<a href="/enh.html">Top Enhancements</a>
</div>


<div id="woResponse">woResponse</div>

</form>

<div id="attachmentUpload" class="popdialog">
<form action='/bugdetail-121.html' method="post" id="UPLOAD" enctype="multipart/form-data">
<input type="hidden" name="f_bugid" value="121">
<input type="hidden" name="WO_HANDLER" value="app.comp.BugAttachmentUploadHandler">
<h4>Upload a file</h4>
<p><input type='file' name='f_file' ></p>
<div class="buttons">
<input type='submit' name='_upload' value="Upload" > <input type='button' value='Cancel' onclick="popdialog.hide();">
</div>
</form>
</div>

<div id="woFocusDelay"></div>
</body>
</html>
